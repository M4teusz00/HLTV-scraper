# HLTV Scraper

This project scrapes **CS:GO tournament and match data** from [HLTV.org](https://www.hltv.org/) and saves it into an Excel file (`.xlsx`).  
The dataset is designed to be imported into **Power BI** for creating interactive dashboards (see the project [HLTV Dashboard](https://github.com/M4teusz00/HLTV-dashboard)).

## üìÇ Repository Structure

hltv-scraper/
- ‚îú‚îÄ‚îÄ hltv-scraper.ipynb # Jupyter Notebook with scraping logic
- ‚îú‚îÄ‚îÄ dependencies.txt # Python dependencies/libraries
- ‚îú‚îÄ‚îÄ Tournament_Sample_Data_Tables.xlsx # Example dataset (small sample)
- ‚îî‚îÄ‚îÄ README.md # Project documentation

## Features
- Scrapes CS2 tournament data (matches, player stats etc.) from HLTV.org.  
- Exports structured datasets in Excel format (`.xlsx`).  
- Provides a **sample dataset** for testing or demonstration without scraping.  
- Output data is ready for Power BI visualization and analysis.  

---

## Dependencies/Libraries

### Python Libraries
The scraper requires the following Python libraries (dependencies.txt):
cloudscraper
beautifulsoup4
pandas

To install them, run:

```bash
pip install -r dependencies.txt
or
%pip install -r dependencies.txt
```
## Code Description (hltv-scraper.ipynb)
### Cell 1 ‚Äì Match Data Scraper
This code scrapes match-level data from HLTV.org for selected event ID's (I selected last 3 big LAN events: **Esports World Cup 2025, BLAST Bounty 2025 Season 2 Finals, IEM Cologne 2025**). The ID's you can find on hltv.org in **Events** tab. If you will click the tournament you want to scrap, find **Results** tab. You will see there the event ID like this: 

![Sample Excel Screenshot](https://github.com/M4teusz00/HLTV-scraper/blob/19e94d82811cb0c9cce911635058c769e9385072/hltv_url.png)

The code:
- Collects **event name**, **team names**, **scores**, **match date**, and **maps played**.
- Handles pagination to get all matches for each event.
- Converts the scraped data into a Pandas DataFrame (`matches_df`).
- Styles the DataFrame and highlights the higher team score per match (just for a better look in the notebook).

### Match Data Scraper (Cell 1) output:

![Sample Excel Screenshot](https://github.com/M4teusz00/HLTV-scraper/blob/2ba1a410aba9c624d16b79fcbdb625c2d091a80d/match_data_ss.png)

### Cell 2 ‚Äì Player Statistics Scraper
Scrapes detailed player-level statistics for each match and map in the selected HLTV events:
- Collects **match name**, **map name**, and **team**.
- Extracts player info: **nickname**, **nationality**, **kills/deaths (K-D)**, **+/-**, **ADR**, **Swing**, and **Rating 3.0**.
- Ensures exactly 5 players per team per map.
- Stores results in a Pandas DataFrame (`players_df`) with the following columns:
  - **`Match`, `Map`, `Team`, `Player`, `Nationality`, `K-D`, `+/-`, `ADR`, `Swing`, `Rating 3.0`**
- Styles the final table for better readability.

‚ùó Note: The `Map` column includes **All maps** value (sum of the stats for all maps played in the match)

### Player Statistics Scraper (Cell 2) output:

![Sample Excel Screenshot](https://github.com/M4teusz00/HLTV-scraper/blob/054b5bd809dac6e30b38b622ae0b97c0ea59e565/players_data_ss.png)

### Cell 3 ‚Äì Data Integration (creating Match_ID columns)
Cleans and merges match-level and player-level data:
- Converts the raw date field into a proper datetime format.
- Creates a unique `Match_ID` for each game (`Team1_vs_Team2_yyyymmdd`).
- Adds a `Match` column (team1 vs team2) to align with the player stats table.
- Reorders columns so `Match_ID` appears at the end of the matches table.
- Merges player statistics (`players_df`) with match information (`matches_df`) to include the `Match_ID` field.

This step is additional for those who want to create a simple relational database (for example in Power BI). With the `Match_ID` you can simply create a relation by this column.











## üìä Sample Data

A sample dataset is included in this repository to illustrate the structure of the scraped data. The actual dataset which is generated by the scraper is available here: [HLTV Dashboard](https://github.com/M4teusz00/HLTV-dashboard) in file named Tournament_Data_Tables.xlsx.

**File:** `Tournament_Sample_Data_Tables.xlsx`  
**Sheet:** `matches_data`

**Columns:**
- **Team 1** ‚Äì name of the first team  
- **Team 1 Score** ‚Äì score of the first team  
- **Team 2** ‚Äì name of the second team  
- **Team 2 Score** ‚Äì score of the second team  
- **Event** ‚Äì tournament or event name  
- **Date (raw)** ‚Äì date of the match (readable format)  
- **Date (unix)** ‚Äì date in UNIX timestamp  
- **Maps** ‚Äì maps played in the match  
- **Match** ‚Äì descriptive match name (Team1 vs Team2)  
- **Match_ID** ‚Äì unique identifier for the match  

## **Matches_data:**  
![Sample Excel Screenshot](https://github.com/M4teusz00/HLTV-scraper/blob/e8509f2b393192390d26ba39c08f3bd1819541a6/sample_matches_data.png)

**Sheet:** `players_data`

**Columns:**
- **match** - descriptive match name (Team1 vs Team2)  
- **map** - the map on which the match was played (all_maps is summary for the whole 1 match)
- **team** - name of the team the player belongs to
- **player** - name of the player
- **nationality** - player's nationality.
- **K-D** - number of kills and deaths for the player in the match
- **+/-** - kill-death difference
- **ADR** - average damage per round for the player
- **Swing** - player's influence on rounds or match momentum (new metric on hltv.org)
- **Rating 3.0** - overall performance rating (new metric on hltv.org)
- **Match_ID** - unique identifier for the match

## **Players_data:**  
![Sample Excel Screenshot](https://github.com/M4teusz00/HLTV-scraper/blob/dd8f27c53e4390dccb9a656f9b626ffc9d7602d4/sample_players_data.png)

This dataset contains detailed statistics from competitive matches, including player performance metrics, team data, and match information. It is useful for analyzing player performance, team dynamics, and match outcomes.

## Use Cases
- Analyze top-performing players and teams.
- Track performance trends across different maps or matches.
- Build predictive models for match outcomes based on player stats.



